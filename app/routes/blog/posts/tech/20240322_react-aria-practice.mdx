---
title: 'React Ariaã§ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚’è€ƒæ…®ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³å®Ÿè£…ã‚’ã™ã‚‹'
description: 'React Ariaã¯Adobeã‹ã‚‰æä¾›ã•ã‚Œã¦ã„ã‚‹Reactå‘ã‘ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚’é‡è¦–ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆã‚’æ‰‹åŠ©ã‘ã—ã¦ãã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚React Ariaã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§é©åˆ‡ãªå±žæ€§ã®ä»˜ä¸Žã¨æ“ä½œãŒå¯èƒ½ã«ãªã‚Šã¾ã™ãŒã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®é«˜ã„ãƒ‡ã‚¶ã‚¤ãƒ³å®Ÿè£…ã¯è‡ªåˆ†ã§è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›žã¯React Ariaï¼ˆReact Aria Componentsï¼‰ã‚’è§¦ã£ã¦ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚’å­¦ã³ãªãŒã‚‰Storybookä¸Šã§å‹•ã‹ã—ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®ãƒ†ã‚¹ãƒˆã‚‚è¡Œã£ã¦ã¿ã¾ã™ã€‚'
published: false
pubDate: '2024/03/22 21:10'
tag: 'tech'
icon: 'symbols/156'
---

## React Ariaã¨ã¯

[React Aria](https://react-spectrum.adobe.com/react-aria/)ã¨ã¯AdobeãŒOSSã§æä¾›ã—ã¦ã„ã‚‹`React Spectrum Libraries`ã®ã†ã¡ã®1ã¤ã§ã€ç‰¹å¾´ã¨ã—ã¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚

- ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆã‚¹ã‚¿ã‚¤ãƒ«ã‚„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç‹¬è‡ªã«æä¾›ã—ãªã„ï¼‰
- ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãªãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã«ã‚ˆã‚‹è¤‡æ•°é¸æŠžãªã©ã®é«˜æ©Ÿèƒ½ã‚’å®Ÿç¾
- å…¨ã¦ã®ãƒ‡ãƒã‚¤ã‚¹ã§ã®ãƒžã‚¦ã‚¹ã€ã‚¿ãƒƒãƒã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’æœ€é©åŒ–ã™ã‚‹
- i18nå¯¾å¿œ

### React Ariaã§ä½¿ç”¨ã§ãã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

1. React Aria components
    - ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé›†ã€‚2ã®ãƒ•ãƒƒã‚¯ãªã©ã®APIã‚’ä½¿ç”¨ã—ã¦ä½œã‚‰ã‚Œã¦ã„ã‚‹ã€‚æ“ä½œã«å¿œã˜ã¦dataå±žæ€§ãŒè¿½åŠ ã•ã‚Œã‚‹ãŸã‚ã€ãã‚Œã‚’ä½¿ç”¨ã—ã¦ç‹¬è‡ªã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã§ãã‚‹ã€‚

2. React Aria
    - `useButton`ãªã©ã®ãƒ•ãƒƒã‚¯ã‚’æä¾›ã—ã¦ãã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚1ã‚’ã‚ˆã‚Šã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚ºã—ãŸã„å ´åˆã«ä½¿ç”¨ã™ã‚‹ã€‚

3. React Stately

   - ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«å¯¾å¿œã—ã¦ã„ã‚‹React Hooksã®çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚React Aria componentsã¯å†…éƒ¨ã§React Statelyã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚

ãªã®ã§ã€åŸºæœ¬çš„ã«ã¯React Aria componentsã‚’ä½¿ç”¨ã—ã€ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚ºãŒå¿…è¦ãªå ´åˆã«React Ariaã‚„React Statelyã‚’ä½¿ç”¨ã™ã‚‹ã¨ã„ã†ä½¿ã„åˆ†ã‘ã«ãªã‚Šã¾ã™ã€‚

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ã¾ãšã¯Next.jsã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚
CSSã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã«ã¯Tailwind CSSã‚’ä½¿ã„ã¾ã™ã€‚

```bash
npx create-next-app react-aria-storybook
```

æ¬¡ã«ã€ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§Storybookã¨React Aria Comonentsã‚’å°Žå…¥ã—ã¾ã™ã€‚

```bash
bunx storybook@latest init
bun add react-aria-components
```

## Comboboxã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ

ç°¡å˜ãªComboboxã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚
ã¾ãšã¯React Ariaã‚’ä½¿ç”¨ã›ãšã«ä½œæˆã—ã‚ˆã†ã¨è©¦ã—ã¾ã—ãŸãŒã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œãªã©ãŒæ€ã£ãŸã‚ˆã‚Šã‚‚è¤‡é›‘ã§é¢å€’ãªæ„Ÿã˜ã ã£ãŸã®ã§è«¦ã‚ã¾ã—ãŸ...ã€‚
æ™®é€šã«æœ€åˆã‹ã‚‰React Ariaã‚’ä½¿ç”¨ã—ã¾ã™ðŸ™„

ã‚³ãƒ¼ãƒ‰ã¨ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚

```tsx title="Combobox.tsx"
'use client';

import { useState, type FC } from 'react';
import {
  Button,
  ComboBox,
  Group,
  Input,
  Label,
  ListBox,
  Popover,
  ListBoxItem as RACListBoxItem,
  composeRenderProps,
  type Key,
  type ListBoxItemProps,
} from 'react-aria-components';

const ListBoxItem = ({
  id,
  children,
  textValue,
  ...props
}: ListBoxItemProps) => {
  return (
    <RACListBoxItem
      {...props}
      id={id}
      textValue={textValue}
      className='flex cursor-pointer rounded px-1 data-[focused]:bg-gray-200'
    >
      {composeRenderProps(children, (children, { isSelected }) => (
        <>
          <span className='flex flex-1 items-center gap-2 truncate font-normal'>
            {children}
          </span>
          <span>{isSelected && 'âœ”'}</span>
        </>
      ))}
    </RACListBoxItem>
  );
};

type Option = { id: number; name: string };

const options: Option[] = [
  { id: 1, name: 'Aardvark' },
  { id: 2, name: 'Cat' },
  { id: 3, name: 'Dog' },
  { id: 4, name: 'Kangaroo' },
  { id: 5, name: 'Panda' },
  { id: 6, name: 'Snake' },
];

export const Combobox: FC = () => {
  const [selectedOption, setSelectedOption] = useState<Option | undefined>(
    options[0],
  );

  const handleSelectOption = (id: Key) => {
    const option = options.find((option) => id === option.name);
    if (!option) return;
    setSelectedOption(option);
  };

  return (
    <div className='grid grid-cols-1 gap-6'>
      <dl className='flex gap-2'>
        <dt>selected:</dt>
        <dd className='font-bold text-blue-500'>{selectedOption?.name}</dd>
      </dl>
      <ComboBox
        className='grid grid-cols-1 gap-1.5'
        onSelectionChange={handleSelectOption}
      >
        <Label className='text-sm'>Favorite Animal</Label>
        <Group className='cursor-pointer rounded bg-white px-1.5 py-1 outline outline-gray-300 data-[focus-within]:outline-gray-500'>
          <Input className='cursor-pointer outline-none' />
          <Button>â–¼</Button>
        </Group>
        <Popover className='w-[--trigger-width] rounded border border-gray-500 bg-white p-2 shadow-md'>
          <ListBox>
            {options.map((option) => (
              <ListBoxItem
                key={option.id}
                id={option.name}
                textValue={option.name}
              >
                {option.name}
              </ListBoxItem>
            ))}
          </ListBox>
        </Popover>
      </ComboBox>
    </div>
  );
};
```

Webãƒšãƒ¼ã‚¸ã¨ã—ã¦å…¬é–‹ã—ãŸStorybookã§ãŒå¯èƒ½ã§ã™ã€‚

ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã¨ã—ã¦ã¯ä»¥ä¸‹ã®é …ç›®ã‚’æº€ãŸã—ã¦ã„ã¾ã™ã€‚

1. ãƒ‡ã‚¶ã‚¤ãƒ³
    - Groupã®ä¸­èº«ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒå½“ãŸã£ãŸæ™‚ã¾ãŸã¯ãƒ›ãƒãƒ¼ã•ã‚ŒãŸæ™‚ã«2pxã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’ä¼´ã†2pxã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒªãƒ³ã‚°ã¨ãŒè¡¨ç¤ºã•ã‚Œã‚‹[^1]
         - `hover:outline hover:outline-2 hover:outline-offset-2 hover:outline-gray-500 focus-within:outline focus-within:outline-2 focus-within:outline-offset-2 focus-within:outline-gray-500`ã®éƒ¨åˆ†
         - `hover:`ã¨`focus-within:`ã¯Tailwind CSSã§ä½¿ç”¨ã§ãã‚‹æ“¬ä¼¼ã‚¯ãƒ©ã‚¹
         - focusã¨hoverã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒä¸€è‡´ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦ç´ ã‚’ã‚¯ãƒªãƒƒã‚¯å¯èƒ½ã§ã‚ã‚‹ã“ã¨ãŒèªè­˜ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹[^2]
   - ã‚³ãƒ³ãƒœãƒœãƒƒã‚¯ã‚¹ã‚„ãƒªã‚¹ãƒˆã®ä¸Šã«ã‚«ãƒ¼ã‚½ãƒ«ã‚’ç½®ãã¨ã€ã‚«ãƒ¼ã‚½ãƒ«ãŒãƒã‚¤ãƒ³ã‚¿ã«å¤‰ã‚ã‚‹[^3]
   - ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚„ãƒ›ãƒãƒ¼ãŒå½“ãŸã£ã¦ã„ãŸã‚Šã€é¸æŠžã•ã‚Œã¦ã„ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ä¸Šä¸‹ã«2pxã®ãƒœãƒ¼ãƒ€ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹[^4]

1. ãƒžã‚¦ã‚¹æ“ä½œ
- Groupã®inputè¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒå½“ãŸã‚‹ã¨æ–‡å­—å…¥åŠ›ãŒå¯èƒ½ã«ãªã‚‹
- Groupã®Buttonè¦ç´ ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ListBoxãŒè¡¨ç¤ºã•ã‚Œã‚‹
2. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ
3. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼æ“ä½œ

[^1]: [APGã®Accessibility Features](https://www.w3.org/WAI/ARIA/apg/patterns/combobox/examples/combobox-autocomplete-list/#accessibilityfeatures)ã§è¨€åŠã•ã‚Œã¦ã„ã‚‹ï¼š > To make it easier to perceive when the combobox receives focus, focus creates a 2 pixel focus ring around both the input and button elements with 2 pixels of space between the focus ring and the combobox.
[^2]: 1ã¨åŒæ§˜ï¼š > To make it easier to perceive that either the input or button can be clicked to open the listbox, hover causes the same styling as focus.
[^3]: 1ã¨åŒæ§˜ï¼š > To help people with visual impairments identify the combobox as an interactive element, the cursor is changed to a pointer when hovering over the combobox or list.
[^4]: 1ã¨åŒæ§˜ï¼š > To make it easier to distinguish the selected listbox option from other options, selection creates a 2 pixel border above and below the option.